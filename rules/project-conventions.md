# Соглашения проекта

## Структура проекта

### Организация папок

```
src/
├── app/                   # Next.js App Router страницы и маршруты
│   ├── api/               # API маршруты Next.js
│   ├── globals.scss       # Глобальные стили приложения
│   ├── layout.tsx         # Корневой layout
│   ├── page.tsx           # Главная страница
│   ├── error.tsx          # Страница ошибки
│   └── not-found.tsx      # Страница 404
├── components/            # Все компоненты проекта
│   ├── UI/                # UI компоненты (переиспользуемые везде)
│   │   ├── Button/        # Базовая кнопка
│   │   ├── Checkbox/      # Чекбокс
│   │   ├── Input/         # Поле ввода
│   │   ├── Title/         # Заголовок (h1, h2, h3 и т.д.)
│   │   └── Typography/    # Текст
│   ├── Feature/           # Функциональные компоненты (разовые)
│   │   │   ├── Banner/    # Баннер
│   │   │   ├── Header/    # Шапка сайта
│   │   │   ├── Footer/    # Подвал сайта
├── hooks/                 # Кастомные хуки
├── mock/                  # Моковые данные для разработки
├── styles/                # Глобальные SCSS стили
│   ├── _colors.scss       # Цветовая палитра
│   ├── _mixins.scss       # SCSS миксины (breakpoints, etc.)
│   ├── _typography.scss   # Типографика
│   ├── _variables.scss    # Переменные
│   └── index.scss         # Главный файл стилей (экспорт всех partials)
├── types/                 # TypeScript типы
│   └── global.d.ts        # Глобальные типы
├── utils/                 # Утилитарные функции
public/                    # Публичные файлы (доступны по URL)
├── fonts/                 # Шрифты
├── icons/                 # Иконки
└── images/                # Изображения
```

### Именование файлов

- **Компоненты**: `ComponentName.tsx`
- **Хуки**: `useHookName.ts`
- **Утилиты**: `utilityName.ts`
- **Типы**: `types.ts` или `ComponentName.types.ts`
- **SCSS модули**: `ComponentName.module.scss`
- **Главные SCSS файлы**: `index.scss`, `globals.scss`
- **Экспорт индексы**: `index.ts` (только экспорты)

### Правила разделения компонентов

#### UI компоненты (`src/components/UI/`) - используются везде:

- ✅ Независимы от бизнес-логики
- ✅ Максимально переиспользуемые
- ✅ Не содержат специфичной логики приложения
- ✅ Могут иметь подкомпоненты в папке `components/`

#### Функциональные компоненты (`src/components/Feature/`) - разовые:

- ✅ Специфичны для конкретных страниц/функций
- ✅ Содержат бизнес-логику
- ✅ Используют UI компоненты внутри себя
- ✅ Могут иметь подкомпоненты в папке `components/`

## Импорты

### Порядок импортов

1. React и внешние библиотеки
2. Внутренние модули (алиасы)
3. Относительные импорты
4. Импорт типов (отдельно)

### Алиасы путей

Проект использует следующие алиасы для удобного импорта:

- `@/*` - корень src папки
- `@components/*` - компоненты
- `@styles/*` - стили
- `@assets/*` - статические ресурсы проекта (src/assets)
- `@public/*` - публичные файлы (public)

### Правила использования алиасов

- ✅ `@components/*` - для всех компонентов (UI и Feature)
- ✅ `@styles/*` - для глобальных стилей
- ✅ `@assets/*` - для ресурсов из `src/assets/`
- ✅ `@public/*` - для публичных файлов из `public/`
- ✅ `@/*` - для остальных файлов (hooks, utils, mock, types)
- ✅ Всегда используйте алиасы вместо относительных путей для внутренних модулей
- ✅ Относительные пути только для `./Component.module.scss` в самом компоненте

### Правила именования классов

- **camelCase**: все классы используют camelCase
- **Описательность**: `buttonPrimary` вместо `btn-p`
- **Консистентность**: одинаковый стиль во всем проекте
- **Читаемость**: понятные названия без сокращений

## Next.js App Router

### Структура страниц

- `src/app/` - маршруты и страницы приложения
- `src/app/page.tsx` - главная страница (`/`)
- `src/app/layout.tsx` - корневой layout
- `src/app/globals.scss` - глобальные стили приложения
- `src/app/[route]/page.tsx` - динамические маршруты

## Обработка ошибок

### Стандартизированные сообщения

- Используйте единообразные сообщения об ошибках
- Логируйте ошибки для отладки
- Показывайте пользователю понятные сообщения

### Границы ошибок

- Используйте `src/app/error.tsx` для обработки ошибок
- Используйте `src/app/not-found.tsx` для 404 страниц
- Используйте Error Boundaries для React компонентов
- Обрабатывайте ошибки на уровне API запросов

## Производительность

### Оптимизация

- Используйте `React.memo` для предотвращения лишних рендеров
- Применяйте `useMemo` и `useCallback` где необходимо
- Ленивая загрузка компонентов с `React.lazy`
- Используйте `next/image` для оптимизации изображений

### Размер бандла

- Анализируйте размер бандла регулярно
- Используйте динамические импорты для больших зависимостей
- Удаляйте неиспользуемый код

## Доступность (a11y)

### Обязательные требования

- Семантичная HTML разметка
- Альтернативный текст для изображений
- Подходящие ARIA атрибуты
